const buttonSearch=document.querySelector(".button-hotel-search"),searchForm=document.querySelector(".modal-container"),buttonFind=document.querySelector(".button-find-hotel"),arrivalDate=searchForm.querySelector("[name=date-arrival]"),leavingDate=searchForm.querySelector("[name=date-leaving]"),adultCount=searchForm.querySelector("[name=adult]"),childCount=searchForm.querySelector("[name=child]"),mapImage=document.querySelector(".map-image"),mapIframe=document.querySelector(".map-iframe");let isStorageSupport=!0,adultsStorage="",childrenStorage="";try{adultsStorage=localStorage.getItem("adult")}catch(a){isStorageSupport=!1}try{childrenStorage=localStorage.getItem("child")}catch(a){isStorageSupport=!1}searchForm.classList.add("modal-close"),window.onload=function(){mapImage.classList.add("hidden-title"),mapIframe.classList.remove("hidden-title")},buttonSearch.addEventListener("click",function(a){a.preventDefault(),searchForm.classList.contains("modal-close")?(searchForm.classList.remove("modal-close"),searchForm.classList.remove("error"),arrivalDate.focus()):searchForm.classList.add("modal-close")}),buttonFind.addEventListener("click",function(a){adultCount.value&&childCount.value&&arrivalDate.value&&leavingDate.value?isStorageSupport&&(localStorage.setItem("adult",adultCount.value),localStorage.setItem("child",childCount.value)):(a.preventDefault(),searchForm.classList.remove("error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("error"))}),window.addEventListener("keydown",function(a){27!==a.keyCode||searchForm.classList.contains("modal-close")||(a.preventDefault(),searchForm.classList.remove("error"),searchForm.classList.add("modal-close"))});
