const buttonSearch=document.querySelector(".button-hotel-search"),searchForm=document.querySelector(".modal-container"),buttonFind=document.querySelector(".button-find-hotel"),arrivalDate=searchForm.querySelector("[name=date-arrival]"),leavingDate=searchForm.querySelector("[name=date-leaving]"),adultCount=searchForm.querySelector("[name=adult]"),childCount=searchForm.querySelector("[name=child]");let isStorageSupport=!0,adultsStorage="",childrenStorage="";try{adultsStorage=localStorage.getItem("adult")}catch(e){isStorageSupport=!1}try{childrenStorage=localStorage.getItem("child")}catch(e){isStorageSupport=!1}searchForm.classList.add("modal-close"),buttonSearch.addEventListener("click",function(e){e.preventDefault(),searchForm.classList.contains("modal-close")?(searchForm.classList.remove("modal-close"),searchForm.classList.remove("error"),arrivalDate.focus()):searchForm.classList.add("modal-close")}),buttonFind.addEventListener("click",function(e){adultCount.value&&childCount.value&&arrivalDate.value&&leavingDate.value?isStorageSupport&&(localStorage.setItem("adult",adultCount.value),localStorage.setItem("child",childCount.value)):(e.preventDefault(),searchForm.classList.remove("error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(searchForm.classList.contains("modal-close")||(e.preventDefault(),searchForm.classList.remove("error"),searchForm.classList.add("modal-close")))});
